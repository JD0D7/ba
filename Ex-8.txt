Ex.No.8                        Online survey application
Date: 


Problem Statement :
Develop an online survey application where a collection of questions is available and users are asked to answer any random 5 questions.


Aim:
To develop a online survey application using React JS


Procedure 
1. Install react
2. Create a react application named ”online-survey”
3. Change Directory: Go to directory of project.
4. Install router package: Install React router package, which will enable us navigating in our website.
5. Create the application “App.js” - imports all the components and renders it on the webpage
6. Create the CSS file App.CSS - contains the styling of the application
7. Import Bootstrap css and js import files
8. Create a folder called Components in src directory 
   1. Create the files About.js, AdditionalQuestions.js, BasicInfo.js, EnteredDetails.js, Footer.js, Header.js, ThankYouPage.js
   2. ‘BasicInfo’ component which will take basic details of user and store it. 
   3. AdditionalQuestions component to create a questionnaire next which contain survey questions. 
   4.  EnteredDetails component to display all details entered by user
   5. A submit button to confirm submission which redirects to ‘ThankYou’ page.
9. Run the Application




Code Execution :


PS C:\Users\DSLAB-08\Downloads\Project8> npm install react --save
added 3 packages, and audited 4 packages in 758ms
found 0 vulnerabilities
PS C:\Users\DSLAB-08\Downloads\Project8> npm install react-dom --save
added 2 packages, and audited 6 packages in 999ms
found 0 vulnerabilities
PS C:\Users\DSLAB-08\Downloads\Project8> npx create-react-app --version
5.0.1
PS C:\Users\DSLAB-08> npx create-react-app project_online_survey
Creating a new React app in C:\Users\DSLAB-08\project_online_survey.


Installing packages. This might take a couple of minutes.
Installing react, react-dom, and react-scripts with cra-template...




added 1459 packages in 2m


242 packages are looking for funding
  run `npm fund` for details
Git repo not initialized Error: Command failed: git --version
    at checkExecSyncError (node:child_process:885:11)
    at execSync (node:child_process:957:15)
    at tryGitInit (C:\Users\DSLAB-08\project_online_survey\node_modules\react-scripts\scripts\init.js:46:5)
    at module.exports (C:\Users\DSLAB-08\project_online_survey\node_modules\react-scripts\scripts\init.js:276:7)
    at [eval]:3:14
    at Script.runInThisContext (node:vm:129:12)
    at Object.runInThisContext (node:vm:307:38)
    at node:internal/process/execution:79:19
    at [eval]-wrapper:6:22 {
  status: 1,
  signal: null,
  output: [ null, null, null ],
  pid: 24468,
  stdout: null,
  stderr: null
}


Installing template dependencies using npm...


added 69 packages, and changed 1 package in 8s


246 packages are looking for funding
  run `npm fund` for details
Removing template package using npm...




removed 1 package, and audited 1528 packages in 3s


246 packages are looking for funding
  run `npm fund` for details


8 vulnerabilities (2 moderate, 6 high)


To address all issues (including breaking changes), run:
  npm audit fix --force


Run `npm audit` for details.


Success! Created project_online_survey at C:\Users\DSLAB-08\project_online_survey
Inside that directory, you can run several commands:


  npm start
    Starts the development server.


  npm run build
    Bundles the app into static files for production.


  npm test
    Starts the test runner.


  npm run eject
    Removes this tool and copies build dependencies, configuration files
    and scripts into the app directory. If you do this, you can’t go back!


We suggest that you begin by typing:


  cd project_online_survey
  npm start


Happy hacking!
PS C:\Users\DSLAB-08> cd project_online_survey


PS C:\Users\DSLAB-08\project_online_survey>


npm install react-router-dom
PS C:\Users\DSLAB-08\project_online_survey> npm init -y
Wrote to C:\Users\DSLAB-08\project_online_survey\package.json:


{
  "name": "project_online_survey",
  "version": "0.1.0",
  "private": true,
  "dependencies": {
    "@testing-library/jest-dom": "^5.17.0",
    "@testing-library/react": "^13.4.0",
    "@testing-library/user-event": "^13.5.0",
    "react": "^18.2.0",
    "react-dom": "^18.2.0",
    "react-scripts": "5.0.1",
    "web-vitals": "^2.1.4"
  },
  "scripts": {
    "start": "react-scripts start",
    "build": "react-scripts build",
    "test": "react-scripts test",
    "eject": "react-scripts eject"
  },
  "eslintConfig": {
    "extends": [
      "react-app",
      "react-app/jest"
    ]
  },
  "browserslist": {
    "production": [
      ">0.2%",
      "not dead",
      "not op_mini all"
    ],
    "development": [
      "last 1 chrome version",
      "last 1 firefox version",
      "last 1 safari version"
    ]
  },
  "description": "This project was bootstrapped with [Create React App](https://github.com/facebook/create-react-app).",
  "main": "index.js",
  "devDependencies": {},
  "keywords": [],
  "author": "",
  "license": "ISC"
}


PS C:\Users\DSLAB-08\project_online_survey> npm install react-router-dom


added 3 packages, and audited 1531 packages in 4s


246 packages are looking for funding
  run `npm fund` for details


8 vulnerabilities (2 moderate, 6 high)


To address all issues (including breaking changes), run:
  npm audit fix --force


Run `npm audit` for details.
PS C:\Users\DSLAB-08\project_online_survey> 
The dependencies in ‘package.json’ 
"dependencies": {
    "@testing-library/jest-dom": "^5.16.5",
    "@testing-library/react": "^13.4.0",
    "@testing-library/user-event": "^13.5.0",
    "react": "^18.2.0",
    "react-dom": "^18.2.0",
    "react-router-dom": "^6.14.1",
    "react-scripts": "5.0.1",
    "web-vitals": "^2.1.4"
  }




Go to : File→Open Folder →project_online_survey(Browse for your project folder)






Open  index.html 
Import Bootstrap css and js import files from Bootstrap website into the index.html in public folder, which will enable us to use styles and methods of Bootstrap.




Add the code in App.js
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" 
          rel="stylesheet" 
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" 
          crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" 
             integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" 
             crossorigin="anonymous">
</script>












//app.js
import logo from './logo.svg';
import './App.css';


import React, { useEffect, useState } from 'react';
import { BrowserRouter as Router, Routes, Route } from 'react-router-dom';
 
import BasicInfo from './Components/BasicInfo';
import AdditionalQuestions from './Components/AdditionalQuestions';
import EnteredDetails from './Components/EnteredDetails';
import ThankYouPage from './Components/ThankYouPage';
import { About } from './Components/About';


function App() {
  // Initialize basicData state from localStorage or an empty object
  const initBasicData = JSON.parse(localStorage.getItem('data')) || {};
  // Initialize questionData state from localStorage or an empty object
  const initQuestionsData = JSON.parse(localStorage.getItem('questiondata')) || {};
 
  // Set up state hooks for basicData and questionData
  const [basicData, setBasicData] = useState(initBasicData);
  const [questionData, setQuestionData] = useState(initQuestionsData);
 
  // Update localStorage whenever basicData changes
  useEffect(() => {
    localStorage.setItem('data', JSON.stringify(basicData));
  }, [basicData]);
 
  // Update localStorage whenever questionData changes
  useEffect(() => {
    localStorage.setItem('questiondata', JSON.stringify(questionData));
  }, [questionData]);
 
  // Function to add basicData to state and localStorage
  const addBasicData = (name, email, contact) => {
    // Create an object with the provided basic data
    const myBasicData = {
      name: name,
      email: email,
      contact: contact
    };
 
    // Update the basicData state with the new data
    setBasicData(myBasicData);
 
    // Update the localStorage with the new basicData
    localStorage.setItem("data", JSON.stringify(myBasicData));
  }
 
  // Function to add questionData to state and localStorage
  const addQuestionData = (profession, interest, reference) => {
    // Create an object with the provided question data
    const myQuestionData = {
      profession: profession,
      interest: interest,
      reference: reference
    };
 
    // Update the questionData state with the new data
    setQuestionData(myQuestionData);
 
    // Update the localStorage with the new questionData
    localStorage.setItem("questiondata", JSON.stringify(myQuestionData));
  }
 
  // Render the application
  return (
    <Router>
      {/* Define the routes */}
      <Routes>
        {/* Render the BasicInfo component with the addBasicData function */}
        <Route path='/' element={<BasicInfo addBasicData={addBasicData} />} />
 
        {/* Render the AdditionalQuestions component with the addQuestionData function */}
        <Route
          path='/questions'
          element={<AdditionalQuestions addQuestionData={addQuestionData} />}
        />
 
        {/* Render the EnteredDetails component with basicData and questionData */}
        <Route
          path='/details'
          element={<EnteredDetails data={basicData} questiondData={questionData} />}
        />
 
        {/* Render the ThankYouPage component */}
        <Route
          path='/thanks'
          element={<ThankYouPage />}
        />
 
        {/* Render the About component */}
        <Route
          path='/about'
          element={<About />}
        />
      </Routes>
    </Router>
  );
}


export default App;






//App.cs
body{
  background-color: #F2EAD3;
  }
 
  .navbar{
  width : 59vw;
  text-decoration: none;
  height: 5vh;
  top: 0%;
  position: fixed;
  }
 
  .qform{
  margin-top: 10vh;
  margin-bottom: 5vh;
  z-index: 0;
  }
  .badge{
  color: black;
   
  }
 
  .footer {
  background-color: green;
  position: fixed;
  width: 100%;
  bottom: 0;
  color: white;
  }
 






//  BasicInfo.js 


import React, { useState } from 'react'; 
import { useNavigate } from 'react-router-dom'; 


export default function BasicInfo({ addBasicData }) { 
// State variables to store user input 
const [name, setName] = useState(""); 
const [email, setEmail] = useState(""); 
const [contact, setContact] = useState(""); 
        
// Navigation function for programmatic routing 
const navigate = useNavigate(); 


// Function to handle form submission 
const submit = (e) => { 
        e.preventDefault(); 
        if (!name || !email || !contact) { 
        // Alert if any field is missing 
        alert("All fields necessary!"); 
        } else { 
        // Call the addBasicData function provided by the parent component 
        addBasicData(name, email, contact); 
        // Navigate to the '/questions' route 
        navigate('/questions'); 
        } 
} 


return ( 
        <div className="container-fluid qform"> 
        <div className="col-md-5 m-auto"> 
                <div className="mt-3"> 
                <div className="card text-left h-100"> 
                        <div className="card-body my-3"> 
                        <form onSubmit={submit}> 
                                <label htmlFor=""> 
                                <h4>Basic Details</h4> 
                                </label> 
                                <div className="form-group my-3"> 
                                <label htmlFor=""> 
                                        <b>1.</b> Name 
                                </label> 
                                {/* Input field for name */} 
                                <input 
                                        type="text"
                                        name="name"
                                        value={name} 
                                        onChange={(e) => { setName(e.target.value) }} 
                                        className='form-control my-2'
                                        placeholder='Enter your Name'
                                        autoComplete='off'
                                /> 
                                </div> 
                                <div className="form-group my-3"> 
                                <label htmlFor=""> 
                                        <b>2.</b> Email 
                                </label> 
                                {/* Input field for email */} 
                                <input 
                                        type="email"
                                        name='email'
                                        value={email} 
                                        onChange={(e) => { setEmail(e.target.value) }} 
                                        className='form-control my-2'
                                        placeholder='Enter your Email'
                                        autoComplete='off'
                                /> 
                                </div> 
                                <div className="form-group my-3"> 
                                <label htmlFor=""> 
                                        <b>3.</b> Contact No. 
                                </label> 
                                {/* Input field for contact number */} 
                                <input 
                                        type="tel"
                                        name='contact'
                                        value={contact} 
                                        onChange={(e) => { setContact(e.target.value) }} 
                                        className='form-control my-2'
                                        placeholder='Enter your Contact No.'
                                        autoComplete='off'
                                /> 
                                </div> 
                                {/* Submit button */} 
                                <button type='submit' className='btn btn-success mx-3'>Next</button> 
                        </form> 
                        {/* Step indicators */} 
                        <center> 
                                <span className="badge badge-pill bg-success"><b>1</b></span> 
                                <span className="badge rounded-pill disabled">2</span> 
                                <span className="badge rounded-pill disabled">3</span> 
                        </center> 
                        </div> 
                </div> 
                </div> 
        </div> 
        </div> 
) 
} 


// AdditionalQuestions.js 


import React, { useState } from 'react'; 
import { useNavigate } from 'react-router-dom'; 


export default function AdditionalQuestions({ addQuestionData }) { 
// State variables to store user inputs 
const [profession, setProfession] = useState(""); 
const [interest, setInterest] = useState(""); 
const [reference, setReference] = useState(""); 
const [otherProfession, setOtherProfession] = useState(""); 
const [otherInterest, setOtherInterest] = useState(""); 
const [otherReference, setOtherReference] = useState(""); 
        
const navigate = useNavigate(); 


// Function to handle form submission 
const submit = (e) => { 
        e.preventDefault(); 


        // Check if all fields are filled 
        if (!profession || !interest || !reference) { 
        alert("All fields necessary!"); 
        } else { 
        // If the selected option is "Others", use the value from the corresponding text input 
        if (profession === "Others") { 
                profession = otherProfession; 
        } 
        if (interest === "Others") { 
                interest = otherInterest; 
        } 
        if (reference === "Others") { 
                reference = otherReference; 
        } 


        // Log the selected options and call the addQuestionData function with the data 
        console.log(profession, interest, reference); 
        addQuestionData(profession, interest, reference); 


        // Navigate to the next page 
        navigate('/details'); 
        } 
}; 


// Event handler for changes in the profession radio buttons 
const handleProfessionChange = (e) => { 
        setProfession(e.target.value); 
}; 


// Event handler for changes in the interest radio buttons 
const handleInterestChange = (e) => { 
        setInterest(e.target.value); 
}; 


// Event handler for changes in the reference radio buttons 
const handleReferenceChange = (e) => { 
        setReference(e.target.value); 
}; 


return ( 
        <div className="container-fluid qform"> 
        <div className="col-md-5 m-auto"> 
                <div className="mt-3"> 
                <div className="card text-left h-100"> 
                        <div className="card-body"> 
                        <form onSubmit={submit}> 
                                <label htmlFor=""> 
                                <h4>Additional Questions</h4> 
                                </label> 


                                {/* Profession options */} 
                                <div className="form-group m-2" onChange={handleProfessionChange}> 
                                <label htmlFor="q1"> 
                                        <b>1.</b> What is your profession? 
                                </label> 
                                <br /> 
                                <input 
                                        type="radio"
                                        name="ProfessionRadio"
                                        id="student"
                                        autoComplete="off"
                                        className="m-2"
                                        value="Student"
                                /> 
                                <label htmlFor="student"> Student</label> 
                                <br /> 
                                {/* Other options for profession with text input */} 
                                <input 
                                        type="radio"
                                        name="ProfessionRadio"
                                        id="sde"
                                        autoComplete="off"
                                        className="m-2"
                                        value="Software Engineer"
                                /> 
                                <label htmlFor="sde"> Software Engineer</label> 
                                <br /> 
                                <input 
                                        type="radio"
                                        name="ProfessionRadio"
                                        id="teacher"
                                        autoComplete="off"
                                        className="m-2"
                                        value="Teacher"
                                /> 
                                <label htmlFor="teacher"> Teacher</label> 
                                <br /> 
                                <input 
                                        type="radio"
                                        name="ProfessionRadio"
                                        id="others"
                                        autoComplete="off"
                                        className="m-2"
                                        value="Others"
                                /> 
                                <label htmlFor="others"> Others:</label> 
                                <input 
                                        type="text"
                                        id="otherProfession"
                                        autoComplete="off"
                                        className="form-control m-2"
                                        value={otherProfession} 
                                        onChange={(e) => { setOtherProfession(e.target.value) }} 
                                /> 
                                <hr /> 
                                </div> 


                                {/* Interest options */} 
                                <div className="form-group m-2" onChange={handleInterestChange}> 
                                <label htmlFor="q2"> 
                                        <b>2.</b> What are your interests? 
                                </label> 
                                <br /> 
                                <input 
                                        type="radio"
                                        name="interestRadio"
                                        id="dsa"
                                        autoComplete="off"
                                        className="m-2"
                                        value="DSA"
                                /> 
                                <label htmlFor="dsa"> DSA</label> 
                                <br /> 
                                {/* Other options for interest with text input */} 
                                <input 
                                        type="radio"
                                        name="interestRadio"
                                        id="fullstack"
                                        autoComplete="off"
                                        className="m-2"
                                        value="Full Stack Development"
                                /> 
                                <label htmlFor="fullstack"> Full Stack Development</label> 
                                <br /> 
                                <input 
                                        type="radio"
                                        name="interestRadio"
                                        id="dataScience"
                                        autoComplete="off"
                                        className="m-2"
                                        value="Data Science"
                                /> 
                                <label htmlFor="dataScience"> Data Science</label> 
                                <br /> 
                                <input 
                                        type="radio"
                                        name="interestRadio"
                                        id="compeProgramming"
                                        autoComplete="off"
                                        className="m-2"
                                        value="Competitive Programming"
                                /> 
                                <label htmlFor="compeProgramming"> Competitive Programming</label> 
                                <br /> 
                                <input 
                                        type="radio"
                                        name="interestRadio"
                                        id="others"
                                        autoComplete="off"
                                        className="m-2"
                                        value="Others"
                                /> 
                                <label htmlFor="others"> Others:</label> 
                                <input 
                                        type="text"
                                        id="otherInterest"
                                        autoComplete="off"
                                        className="form-control m-2"
                                        value={otherInterest} 
                                        onChange={(e) => { setOtherInterest(e.target.value) }} 
                                /> 
                                <hr /> 
                                </div> 


                                {/* Reference options */} 
                                <div className="form-group m-2" onChange={handleReferenceChange}> 
                                <label htmlFor="q3"> 
                                        <b>3.</b> Where did you hear about us? 
                                </label> 
                                <br /> 
                                <input 
                                        type="radio"
                                        name="referenceRadio"
                                        id="news"
                                        autoComplete="off"
                                        className="m-2"
                                        value="News Paper"
                                /> 
                                <label htmlFor="news"> News Paper</label> 
                                <br /> 
                                <input 
                                        type="radio"
                                        name="referenceRadio"
                                        id="LinkedIn"
                                        autoComplete="off"
                                        className="m-2"
                                        value="LinkedIn"
                                /> 
                                <label htmlFor="LinkedIn"> LinkedIn</label> 
                                <br /> 
                                <input 
                                        type="radio"
                                        name="referenceRadio"
                                        id="Instagram"
                                        autoComplete="off"
                                        className="m-2"
                                        value="Instagram"
                                /> 
                                <label htmlFor="Instagram"> Instagram</label> 
                                <br /> 
                                <input 
                                        type="radio"
                                        name="referenceRadio"
                                        id="others"
                                        autoComplete="off"
                                        className="m-2"
                                        value="Others"
                                /> 
                                <label htmlFor="others"> Others:</label> 
                                <input 
                                        type="text"
                                        id="otherReference"
                                        autoComplete="off"
                                        className="form-control m-2"
                                        value={otherReference} 
                                        onChange={(e) => { setOtherReference(e.target.value) }} 
                                /> 
                                <br /> 
                                </div> 


                                {/* Submit button */} 
                                <button type="submit" className="btn btn-success mx-3"> 
                                Next 
                                </button> 
                        </form> 


                        {/* Progress indicators */} 
                        <center> 
                                <span className="badge rounded-pill disabled">1</span> 
                                <span className="badge badge-pill bg-success"> 
                                <b>2</b> 
                                </span> 
                                <span className="badge rounded-pill disabled">3</span> 
                        </center> 
                        </div> 
                </div> 
                </div> 
        </div> 
        </div> 
); 
}


// EnteredDetails.js 


import { useNavigate } from 'react-router-dom'; 


export default function EnteredDetails(props) { 
const navigate = useNavigate(); 


// Function to handle form submission 
const submit = () => { 
        console.log(props.data); // Log basicData object 
        console.log(props.questiondData); // Log questionData object 
        navigate('/thanks'); // Navigate to the thanks page 
}; 


return ( 
        <div className="container-fluid qform"> 
        <div className="col-md-5 m-auto"> 
                <div className="mt-3"> 
                <div className="card text-left h-100"> 
                        <div className="card-body my-3"> 
                        <h4>Entered Details</h4> 


                        {/* Display basicData */} 
                        <p> 
                                <b>Name:</b> {props.data.name} 
                        </p> 
                        <p> 
                                <b>Email:</b> {props.data.email} 
                        </p> 
                        <p> 
                                <b>Contact No.:</b> {props.data.contact} 
                        </p> 


                        <h4>Responses</h4> 


                        {/* Display questionData */} 
                        <p> 
                                <b>Profession:</b> {props.questiondData.profession} 
                        </p> 
                        <p> 
                                <b>Interests:</b> {props.questiondData.interest} 
                        </p> 
                        <p> 
                                <b>Reference:</b> {props.questiondData.reference} 
                        </p> 


                        {/* Submit button */} 
                        <button type="submit" onClick={submit} className="btn btn-success"> 
                                Submit 
                        </button> 


                        {/* Page numbers */} 
                        <center> 
                                <span className="badge rounded-pill disabled">1</span> 
                                <span className="badge rounded-pill disabled">2</span> 
                                <span className="badge badge-pill bg-success"> 
                                <b>3</b> 
                                </span> 
                        </center> 
                        </div> 
                </div> 
                </div> 
        </div> 
        </div> 
); 
} 


// ThankYouPage.js 


import React from 'react'; 


function ThankYouPage() { 
return ( 
        <div className="container-fluid qform"> 
                        <div className="col-md-5 m-auto"> 
                                <div className="mt-3"> 
                                        <div className="card text-left h-100"> 
                                                <div className="card-body my-3"> 
                                                        <h3>Thank You for your Response!</h3> 
                                                        <h6>You may close this tab now.</h6> 
                                                </div> 
                                        </div> 
                                </div> 
                        </div> 
                </div> 
); 
} 


export default ThankYouPage;


// About.js 


import React from 'react'


export const About = () => { 
return ( 
        <div className='text-center qform'> 
                <h3>This is About Section</h3> 
                <p>This is a survey website example using ReactJS</p> 
        </div> 
) 
}








Steps to run the application:


Step 1: To run website, open a terminal in directory of website and run following command.
npm start
Step 2: Open web browser and type the following URL( Default):


http://localhost:3000/




Output:
  



  



  

  



Result:
Thus the online survey application is developed successfully using React JS